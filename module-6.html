<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第6章：Specs 功能基础 - KIRO IDE 中文教程</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <h1>KIRO IDE 教程</h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-home">首页</a></li>
                    <li><a href="module-6.html" class="nav-current">第6章</a></li>
                    <li><a href="index.html#introduction">介绍</a></li>
                    <li><a href="index.html#beginner">入门篇</a></li>
                    <li><a href="index.html#intermediate">基础篇</a></li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            <!-- 面包屑导航 -->
            <nav class="breadcrumb">
                <div class="breadcrumb-item"><a href="index.html">首页</a></div>
                <div class="breadcrumb-item"><a href="index.html#intermediate">基础篇</a></div>
                <div class="breadcrumb-item active">第6章：Specs 功能基础</div>
            </nav>

            <!-- 进度指示器 -->
            <div class="progress-indicator">
                <div class="progress-step completed">
                    <div class="progress-circle">1</div>
                    <div class="progress-label">第1章</div>
                </div>
                <div class="progress-step completed">
                    <div class="progress-circle">2</div>
                    <div class="progress-label">第2章</div>
                </div>
                <div class="progress-step completed">
                    <div class="progress-circle">3</div>
                    <div class="progress-label">第3章</div>
                </div>
                <div class="progress-step completed">
                    <div class="progress-circle">4</div>
                    <div class="progress-label">第4章</div>
                </div>
                <div class="progress-step completed">
                    <div class="progress-circle">5</div>
                    <div class="progress-label">第5章</div>
                </div>
                <div class="progress-step">
                    <div class="progress-circle">6</div>
                    <div class="progress-label">第6章</div>
                </div>
            </div>

            <!-- 侧边栏导航 -->
            <aside class="sidebar">
                <h3>本章导航</h3>
                <ul class="sidebar-nav">
                    <li><a href="#specs-overview">Specs 概览</a></li>
                    <li><a href="#spec-creation">创建 Spec</a></li>
                    <li><a href="#spec-examples">Spec 示例</a></li>
                    <li><a href="#spec-features">Spec 功能</a></li>
                    <li><a href="#spec-best-practices">最佳实践</a></li>
                    <li><a href="#summary">总结</a></li>
                </ul>

                <h3>学习进度</h3>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 100%"></div>
                </div>
                <p class="progress-text">第6章学习中</p>

                <h3>快速操作</h3>
                <button class="btn btn-secondary" onclick="updateLearningProgress('module-6', true)" style="width: 100%; margin-bottom: 0.5rem;">
                    标记为已完成
                </button>
                <button class="btn" onclick="window.print()" style="width: 100%;">
                    打印本章
                </button>
            </aside>

            <div class="module-header">
                <h1>第6章：Specs 功能基础</h1>
                <p class="module-subtitle">规范驱动开发的核心功能</p>
            </div>

            <div class="module-container">
                <div class="module-objectives">
                    <h3>学习目标</h3>
                    <ul>
                        <li>深入理解KIRO的Spec-driven Development理念</li>
                        <li>掌握Specs的基本语法和结构</li>
                        <li>学会创建和使用Specs来驱动AI代码生成</li>
                        <li>了解Specs与AI协作的工作流程</li>
                        <li>掌握Specs的最佳实践和常见模式</li>
                    </ul>
                </div>

                <div class="module-content">
                    <h2 id="specs-overview">Specs 概览</h2>
                    <p>Specs（规范）是KIRO IDE的核心创新功能，它采用Spec-driven Development（规范驱动开发）的方法论。与传统的代码优先开发不同，KIRO鼓励开发者首先编写详细的规范，然后由AI根据这些规范生成相应的代码实现。</p>

                    <div class="info-box">
                        <h4>📖 什么是 Specs？</h4>
                        <p>Specs是结构化的文档，使用Markdown格式编写，详细描述了软件功能的需求、输入输出、业务逻辑、边界条件等。它们是AI理解开发者意图并生成准确代码的基础。</p>
                    </div>

                    <h3>Specs 的核心理念</h3>
                    <ul>
                        <li><strong>需求先行</strong>：在编写代码之前，先明确和文档化需求</li>
                        <li><strong>AI协作</strong>：让AI处理重复性工作，开发者专注于业务逻辑</li>
                        <li><strong>质量保证</strong>：通过详细规范确保代码质量和功能完整性</li>
                        <li><strong>可维护性</strong>：规范作为活文档，便于团队协作和项目维护</li>
                    </ul>

                    <h2 id="spec-creation">创建 Spec</h2>
                    <p>在KIRO IDE中创建Specs非常简单，遵循以下步骤：</p>

                    <div class="step-by-step">
                        <div class="step">
                            <h4>步骤1：新建Spec文件</h4>
                            <p>在项目目录中，右键点击 <code>.kiro/specs/</code> 文件夹，选择 "New File"，输入文件名如 <code>user-authentication.spec</code>。</p>
                        </div>

                        <div class="step">
                            <h4>步骤2：编写Spec结构</h4>
                            <p>使用标准的Markdown语法编写Spec，包含以下关键部分：</p>
                            <div class="code-block">
                                <code># 用户认证功能规范

## 功能概述
实现用户注册和登录功能，确保系统安全性和用户体验。

## 功能需求
1. **用户注册**：新用户可以创建账户
2. **用户登录**：已注册用户可以使用用户名/邮箱和密码登录
3. **密码重置**：用户可以通过邮箱重置密码
4. **会话管理**：维护用户登录状态

## 输入验证
### 注册输入
- 用户名：3-20个字符，仅允许字母、数字、下划线
- 邮箱：有效的邮箱格式
- 密码：至少8个字符，包含大小写字母和数字

### 登录输入
- 用户名/邮箱：必填
- 密码：必填，至少8个字符

## 业务逻辑
1. 接收用户输入
2. 验证输入格式
3. 检查用户名/邮箱唯一性（注册时）
4. 验证用户凭据（登录时）
5. 创建用户会话
6. 返回操作结果

## 输出格式
### 成功响应
```json
{
  "success": true,
  "data": {
    "userId": "user123",
    "username": "john_doe",
    "token": "jwt_token_here"
  }
}
```

### 错误响应
```json
{
  "success": false,
  "error": "Invalid credentials",
  "field": "password"
}
```

## 安全要求
- 密码使用bcrypt加密（salt rounds: 12）
- 实施账户锁定机制（5次失败尝试后锁定15分钟）
- 使用JWT进行会话管理
- 防止SQL注入和XSS攻击

## 性能要求
- 登录响应时间 < 500ms
- 支持并发用户认证 > 1000用户/秒</code>
                            </div>
                        </div>

                        <div class="step">
                            <h4>步骤3：与AI协作</h4>
                            <p>保存Spec文件后，KIRO的AI会自动分析规范并：</p>
                            <ul>
                                <li>生成基础代码框架</li>
                                <li>提供实现建议</li>
                                <li>识别潜在问题</li>
                                <li>建议测试用例</li>
                            </ul>
                        </div>
                    </div>

                    <h2 id="spec-examples">Spec 示例</h2>
                    <p>让我们通过一个具体的示例来了解Specs的实际应用：</p>

                    <div class="spec-example">
                        <h3 id="spec-examples-detail">示例：待办事项API规范</h3>
                        <div class="code-block">
                            <code># 待办事项API功能规范

## 项目概述
开发一个RESTful API，用于管理用户的待办事项列表。

## 核心功能
1. **创建任务**：用户可以创建新的待办事项
2. **查看任务**：用户可以查看所有任务或单个任务详情
3. **更新任务**：用户可以修改任务内容和状态
4. **删除任务**：用户可以删除不需要的任务
5. **任务过滤**：支持按状态、优先级过滤任务

## API端点规范

### 1. 创建任务
**POST /api/tasks**

#### 请求体
```json
{
  "title": "完成项目报告",
  "description": "准备季度项目进展报告",
  "priority": "high",
  "dueDate": "2024-01-15T10:00:00Z"
}
```

#### 响应
```json
{
  "success": true,
  "data": {
    "id": "task123",
    "title": "完成项目报告",
    "description": "准备季度项目进展报告",
    "priority": "high",
    "status": "pending",
    "dueDate": "2024-01-15T10:00:00Z",
    "createdAt": "2024-01-10T08:30:00Z"
  }
}
```

### 2. 获取任务列表
**GET /api/tasks**

#### 查询参数
- `status` (可选): pending, completed, all
- `priority` (可选): low, medium, high
- `page` (可选): 页码，默认为1
- `limit` (可选): 每页数量，默认为20

#### 响应
```json
{
  "success": true,
  "data": {
    "tasks": [
      {
        "id": "task123",
        "title": "完成项目报告",
        "status": "pending",
        "priority": "high",
        "dueDate": "2024-01-15T10:00:00Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 1,
      "pages": 1
    }
  }
}
```

## 数据验证规则
- **标题**：必填，2-100个字符
- **描述**：可选，最多500个字符
- **优先级**：只能是 low, medium, high
- **状态**：只能是 pending, completed, cancelled
- **截止日期**：必须是未来的日期

## 错误处理
- **400 Bad Request**：输入验证失败
- **401 Unauthorized**：用户未认证
- **404 Not Found**：任务不存在
- **500 Internal Server Error**：服务器错误

## 性能要求
- API响应时间 < 200ms
- 支持分页，每页最多100条记录
- 数据库查询需要适当的索引优化</code>
                        </div>
                    </div>

                    <h2 id="spec-features">Spec 功能特性</h2>
                    <p>KIRO的Specs系统提供了丰富的功能来支持规范驱动开发：</p>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">📝</div>
                            <h3>结构化描述</h3>
                            <p>使用Markdown格式，支持代码块、表格、列表等丰富的文档结构。</p>
                        </div>

                        <div class="feature-card">
                            <div class="feature-icon">🔄</div>
                            <h3>实时同步</h3>
                            <p>Specs变更时，AI会实时分析并提供相应的代码更新建议。</p>
                        </div>

                        <div class="feature-card">
                            <div class="feature-icon">🔍</div>
                            <h3>智能分析</h3>
                            <p>AI能够识别规范中的关键要素，如功能点、数据结构和业务规则。</p>
                        </div>

                        <div class="feature-card">
                            <div class="feature-icon">✅</div>
                            <h3>验证机制</h3>
                            <p>内置规范质量检查，确保Specs的完整性和可执行性。</p>
                        </div>
                    </div>

                    <h3 id="spec-features">高级Spec功能</h3>
                    <ul>
                        <li><strong>模板系统</strong>：使用预定义的Spec模板快速开始</li>
                        <li><strong>版本控制</strong>：跟踪Specs的变更历史</li>
                        <li><strong>协作编辑</strong>：支持多人协作编辑Specs</li>
                        <li><strong>依赖管理</strong>：定义Specs之间的依赖关系</li>
                        <li><strong>测试集成</strong>：自动生成测试用例和验证脚本</li>
                    </ul>

                    <h2 id="spec-best-practices">Specs 最佳实践</h2>
                    <p>为了充分发挥Specs的威力，遵循以下最佳实践：</p>

                    <div class="best-practices">
                        <h3>1. 明确性原则</h3>
                        <ul>
                            <li>使用清晰、具体的语言描述功能</li>
                            <li>避免模糊的词汇，如"可能"、"应该"等</li>
                            <li>提供具体的示例和边界条件</li>
                            <li>定义明确的输入输出格式</li>
                        </ul>

                        <h3>2. 完整性原则</h3>
                        <ul>
                            <li>覆盖所有功能路径，包括错误处理</li>
                            <li>考虑边界情况和异常场景</li>
                            <li>包含性能和安全要求</li>
                            <li>定义清晰的验收标准</li>
                        </ul>

                        <h3>3. 可测试性原则</h3>
                        <ul>
                            <li>每个功能点都应该是可验证的</li>
                            <li>提供测试数据和期望结果</li>
                            <li>定义明确的通过/失败条件</li>
                            <li>考虑自动化测试的可能性</li>
                        </ul>

                        <h3>4. 可维护性原则</h3>
                        <ul>
                            <li>使用一致的格式和结构</li>
                            <li>添加适当的注释和说明</li>
                            <li>保持Specs的模块化</li>
                            <li>定期更新Specs以反映需求变更</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h4>⚠️ 常见误区</h4>
                        <ul>
                            <li><strong>过于抽象</strong>：Specs应该具体明确，避免过度抽象</li>
                            <li><strong>忽略边界</strong>：不要只关注正常流程，要充分考虑异常情况</li>
                            <li><strong>技术偏见</strong>：Specs应该描述"做什么"而不是"怎么做"</li>
                            <li><strong>一成不变</strong>：Specs应该随着项目发展而演进</li>
                        </ul>
                    </div>

                    <div class="exercise-box">
                        <h4>📝 实践练习</h4>
                        <p><strong>练习目标：</strong>为您的项目创建一个完整的Spec</p>
                        <p><strong>练习内容：</strong></p>
                        <ol>
                            <li>选择一个简单的功能（如用户资料管理）</li>
                            <li>按照本章节介绍的格式编写完整的Spec</li>
                            <li>包含功能概述、需求、验证规则、业务逻辑等</li>
                            <li>使用KIRO IDE创建Spec文件并测试AI响应</li>
                        </ol>
                        <button class="collapsible">查看提示</button>
                        <div class="collapsible-content">
                            <p><strong>提示：</strong></p>
                            <ul>
                                <li>从用户的角度思考功能需求</li>
                                <li>考虑所有可能的输入情况</li>
                                <li>定义清晰的错误处理方式</li>
                                <li>提供具体的示例数据</li>
                            </ul>
                        </div>
                    </div>

                    <h2 id="summary">总结</h2>
                    <p>通过本章的学习，您已经深入了解了KIRO IDE的Specs功能。Specs是规范驱动开发的核心，它们不仅帮助AI理解您的需求，还能确保代码质量和项目可维护性。</p>

                    <div class="tutorial-objectives">
                        <h3>✅ 学习目标达成检查</h3>
                        <ul>
                            <li><strong>✓ 已掌握：</strong> Spec-driven Development的核心理念</li>
                            <li><strong>✓ 已掌握：</strong> Specs的基本语法和结构</li>
                            <li><strong>✓ 已掌握：</strong> 创建和使用Specs的方法</li>
                            <li><strong>✓ 已掌握：</strong> Specs与AI协作的工作流程</li>
                            <li><strong>✓ 已掌握：</strong> Specs的最佳实践</li>
                        </ul>
                    </div>

                    <div class="tip-box">
                        <h4>💡 下一步学习建议</h4>
                        <p>在下一章中，您将学习KIRO IDE的高级Chat功能，了解如何更有效地与AI助手交互，包括上下文管理、多轮对话和高级提示技巧。</p>
                    </div>

                    <div class="progress-container">
                        <div class="progress-bar" style="width: 100%"></div>
                    </div>
                    <p class="progress-text">✅ 第6章学习完成！</p>
                </div>

                <div class="module-nav">
                    <div class="nav-prev">
                        <a href="module-5.html" class="btn">← 第5章：编辑器使用技巧</a>
                    </div>
                    <div class="nav-next">
                        <a href="module-7.html" class="btn">第7章：Chat 功能基础 →</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 KIRO IDE 中文教程. 保留所有权利.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>